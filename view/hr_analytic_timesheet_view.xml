<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>   
        <record model="ir.ui.view" id="view_new_date_in_manage_worklogs_form">
            <field name="name">new_date_in_manage_worklogs_form</field>
            <field name="model">hr.analytic.timesheet</field>
            <field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_form"/>
            <field name="arch" type="xml">
                <field name="date" position="attributes">
                    <attribute name='invisible'>1</attribute> 
                </field>
                <field name="date" position="after">
                    <field name="date_begin"/>
                </field>
            </field>
        </record>

        <record id="view_manage_worklogs_calendar" model="ir.ui.view">
            <field name="name">Manage Worklogs</field>
            <field name="model">hr.analytic.timesheet</field>
            <field name="arch" type="xml">
                <calendar string="Manage Worklogs" color="user_id"
                          date_start="date_begin" date_delay="unit_amount"
                          quick_add="False" avatar_model="hr.analytic.timesheet">
                    <field name="user_id"/>
                    <field name="name"/>
                </calendar>
            </field>
        </record>
        
        <!-- It misses the onchange management-->
        <!--
        <record id="view_manage_worklogs_form" model="ir.ui.view">
            <field name="name">Worklog</field>
            <field name="model">hr.analytic.timesheet</field>
            <field name="arch" type="xml">
                <form string="Worklog">
                    <group>
                        <field name="name"/>
                    </group>
                    <group>
                        <field name="unit_amount" widget="float_time"/>
                        <field name="account_id" domain="[('state','=','open')]" on_change="on_change_account_id(account_id)"/>
                        <field name="on_site"/>
                        <field name="to_invoice"/>
                        <field name="date_begin"/>
                        <field name="user_id"/>
                        <field name="product_id"/>
                    </group>
                </form>
            </field>
        </record>
        -->
        
        <record model="ir.actions.act_window" id="action_manage_worklogs">
            <field name="name">Manage Worklogs</field>
            <field name="res_model">hr.analytic.timesheet</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,form,tree</field>
        </record>

        <!--
        <record model="ir.actions.act_window.view" id="action_manage_worklogs_tree">
            <field name="sequence" eval="3"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_holiday"/>
            <field name="act_window_id" ref="action_manage_worklogs"/>
        </record>
       
        <record model="ir.actions.act_window.view" id="action_manage_worklogs_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_manage_worklogs_form"/>
            <field name="act_window_id" ref="action_manage_worklogs"/>
        </record>
        -->

        <record model="ir.actions.act_window.view" id="action_manage_worklogs_calendar">
            <field name="sequence" eval="1"/>
            <field name="view_mode">calendar</field>
            <field name="view_id" ref="view_manage_worklogs_calendar"/>
            <field name="act_window_id" ref="action_manage_worklogs"/>
        </record>

        <menuitem parent="hr_attendance.menu_hr_time_tracking" id="menu_manage_worklogs_new" action="action_manage_worklogs" sequence="30"/>
    </data>
</openerp>
